<loading [loading]="loading"></loading>
<form [formGroup]="proposalForm.controls.proposalCombo" (ngSubmit)="onSubmit()" novalidate>
  <div *ngIf="editProposal" class="form-group">

    <label> <b> Valutazione pers: </b>
            {{ editProposal.userAccount.firstName }} {{ editProposal.userAccount.lastName }}
        </label> <br>

    <label> <b> Valutatore: </b>
            {{ editProposal.manager.firstName }} {{ editProposal.manager.lastName }}
        </label> <br>

    <label> <b>Profilo aziendale: </b> 
            <select class="form-control" formControlName="companyProfile">
                <option *ngFor="let companyProfile of companyProfileList" [value]="companyProfile"> {{ companyProfile }} </option>
            </select>
        </label> <br>

    <label> <b>Livello sindacale: </b>
            <select class="form-control" formControlName="nationalWorkProfile">
                <option *ngFor="let nationalWorkProfile of nationalWorkProfileList" [value]="nationalWorkProfile"> {{ nationalWorkProfile }} </option>
            </select>
        </label> <br>

    <label> <b> Proposta monetaria: </b>
            <select class="form-control" formControlName="moneyProposal">
                    <option *ngFor="let moneyProposal of moneyProposalList" [value]="moneyProposal"> {{ moneyProposal }} </option>
            </select>
        </label> <br>

    <label> <b> Motivation: </b>
<p style="color:Red" *ngIf="proposalForm.get('proposalCombo').get('motivation').hasError('motivationEmpty')">La motivazione Ã¨ obbligatoria.</p>
            <p style="color:Red" *ngIf="proposalForm.get('proposalCombo').get('motivation').hasError('motivationMustBeEmpty')">La motivazione deve essere vuota.</p>
            <textarea type="text" class="form-control" value="{{ editProposal.motivation }}" formControlName="motivation" style="width:500px;"
                
                [ngClass]="this.proposalForm.get('proposalCombo').get('motivation').hasError() && proposalForm.get('proposalCombo').get('motivation').touched ? 'borderValidation' : ''">
            </textarea>
        </label> <br> 

    <button type="submit" class="btn btn-primary" [disabled]="proposalForm.pristine || proposalForm.invalid"> <span class="fa fa-check" aria-hidden="true"></span> </button>
    <button type="button" class="btn btn-danger" (click)="revert()"> <span class="fa fa-times" aria-hidden="true"></span></button>
  </div>
</form>

<!--test code-->
<!--<p> Form value: {{ proposalForm.value | json }} </p>
    <p> Form status: {{ proposalForm.status  }} </p>-->
<!--test code-->

<!--[ngClass]="proposalForm.controls['motivation'].hasError('required') && !proposalForm.controls['motivation'].untouched ? 'borderValidation' : ''">-->

<!--[ngClass]="proposalForm.invalid ? 'borderValidation' : ''">-->
