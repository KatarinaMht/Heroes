<h1> Proposal list </h1>

<div class="row">
    <div class="col-md-12 col-xs-12">
        <div class="col-md-1 col-xs-2"> Proposal list </div>
    </div>
</div>
<hr>

<div class="table-responsive">
    <table id="proposalList-table" class="table table-striped table-bordered">
        <thead class="thead-primary">
            <tr>
                <th class="text-center col-md-1" (click)="sortByColumn('userAccount.firstName', 'fisrtName'); evaluationSort()">
                   <span> First Name
                       <span class="fa fa-lg" [ngClass]="{'fa-sort':!sortingIcons.fisrtName.sort,
                                                          'fa-sort-asc':sortingIcons.fisrtName.sort && sortingIcons.fisrtName.asc,
                                                          'fa-sort-desc':sortingIcons.fisrtName.sort && !sortingIcons.fisrtName.asc}">
                       </span>
                   </span>
                </th>
                <th class="text-center col-md-1" (click)="sortByColumn('userAccount.lastName', 'lastName'); evaluationSort()">
                   <span> Last Name
                       <span class="fa fa-lg" [ngClass]="{'fa-sort':!sortingIcons.lastName.sort,
                                                          'fa-sort-asc':sortingIcons.lastName.sort && sortingIcons.lastName.asc,
                                                          'fa-sort-desc':sortingIcons.lastName.sort && !sortingIcons.lastName.asc}">
                       </span>
                   </span>
                </th>
                <th class="text-center col-md-1" (click)="sortByColumn('manager.firstName', 'managerFirstName'); evaluationSort();">
                    <span> Manager First Name
                        <span class="fa fa-lg" [ngClass]="{'fa-sort':!sortingIcons.managerFirstName.sort,
                                                          'fa-sort-asc':sortingIcons.managerFirstName.sort && sortingIcons.managerFirstName.asc,
                                                          'fa-sort-desc':sortingIcons.managerFirstName.sort && !sortingIcons.managerFirstName.asc}">
                        </span>
                    </span>
                </th>
                <th class="text-center col-md-1" (click)="sortByColumn('manager.lastName', 'managerLastName'); evaluationSort();">
                    <span> Manager Last Name
                        <span class="fa fa-lg" [ngClass]="{'fa-sort':!sortingIcons.managerLastName.sort,
                                                          'fa-sort-asc':sortingIcons.managerLastName.sort && sortingIcons.managerLastName.asc,
                                                          'fa-sort-desc':sortingIcons.managerLastName.sort && !sortingIcons.managerLastName.asc}">
                        </span>
                    </span>
                </th>
                <th class="text-center col-md-1">
                    <span> Money proposal
                   </span>
                </th>
                <th class="text-center col-md-1" (click)="sortByColumn('companyProfile', 'companyProfile'); evaluationSort();">
                    <span> Company profile
                        <span class="fa fa-lg" [ngClass]="{'fa-sort':!sortingIcons.companyProfile.sort,
                                                          'fa-sort-asc':sortingIcons.companyProfile.sort && sortingIcons.companyProfile.asc,
                                                          'fa-sort-desc':sortingIcons.companyProfile.sort && !sortingIcons.companyProfile.asc}">
                       </span>
                   </span>
                </th>
                <th class="text-center col-md-1" (click)="sortByColumn('nationalWorkProfile', 'nationalWorkProfile'); evaluationSort();">
                    <span> National work profile
                        <span class="fa fa-lg" [ngClass]="{'fa-sort':!sortingIcons.nationalWorkProfile.sort,
                                                          'fa-sort-asc':sortingIcons.nationalWorkProfile.sort && sortingIcons.nationalWorkProfile.asc,
                                                          'fa-sort-desc':sortingIcons.nationalWorkProfile.sort && !sortingIcons.nationalWorkProfile.asc}">
                       </span>
                   </span>
                </th>
                <th class="text-center col-md-1">
                    <span> Motivation
                   </span>
                </th>
                <th class="text-center col-md-1">               
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let proposal of proposalsSorted">
                <td class="text-center col-md-1">
                    {{ proposal.userAccount.firstName }}
                </td>
                <td class="text-center col-md-1">
                    {{ proposal.userAccount.lastName }}
                </td>
                <td class="text-center col-md-1">
                    {{ proposal.manager.firstName }}
                </td>
                <td class="text-center col-md-1">
                    {{ proposal.manager.lastName }}
                </td>
                <td class="text-center col-md-1">
                    {{ proposal.moneyProposal }}
                </td>
                <td class="text-center col-md-1">
                    {{ proposal.companyProfile }}
                </td>
                <td class="text-center col-md-1">
                    {{ proposal.nationalWorkProfile }}
                </td>
                <td class="text-center col-md-1">
                    {{ proposal.motivation }}
                </td>
                <td class="text-center col-md-1" *ngIf="proposal.status != 'Locked'">
                    <button class="btn btn-primary">
                        <span class="fa fa-pencil" aria-hidden="true"></span>
                    </button>
                </td>
            </tr>
        </tbody>
    </table> 
</div>